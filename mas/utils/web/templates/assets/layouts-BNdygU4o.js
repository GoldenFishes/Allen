import{EVENT_CODE as e,ElIcon as t,ElTooltip as n,Fragment as r,TinyColor as i,Transition as a,__plugin_vue_export_helper_default as o,_export_sfc as s,addClass as c,arrow_down_default as l,arrow_left_default as u,arrow_right_default as d,buildProps as f,computed as p,createBaseVNode as m,createBlock as h,createCommentVNode as g,createElementBlock as _,createTextVNode as v,createVNode as y,debugWarn as b,defineComponent as x,definePropType as S,document_default as C,flattedChildren as w,getCurrentInstance as ee,h as T,hasClass as E,iconPropType as D,inject as O,isArray as k,isClient as A,isElement as j,isNil_default as M,isObject as N,isPropAbsent as P,isString as F,isUndefined as te,list_default as ne,mergeProps as re,minus_default as ie,more_default as ae,mutable as oe,nextTick as se,normalizeClass as I,normalizeStyle as L,onBeforeUnmount as ce,onMounted as le,openBlock as R,operation_default as z,provide as ue,reactive as de,ref as B,removeClass as fe,renderList as V,renderSlot as H,resolveComponent as pe,resolveDynamicComponent as U,throwError as W,tickets_default as me,toDisplayString as G,toHandlers as he,toRef as ge,triggerEvent as K,unref as q,useModalMenuIntegration as _e,useNamespace as J,useResizeObserver as ve,useRoute as ye,useRouter as be,useTimeoutFn as xe,user_default as Se,vShow as Ce,watch as Y,watchEffect as we,withCtx as X,withDirectives as Te,withInstall as Ee,withNoopInstall as De}from"./index-4aQjb5wS.js";const Z=new Map;if(A){let e;document.addEventListener(`mousedown`,t=>e=t),document.addEventListener(`mouseup`,t=>{if(e){for(let n of Z.values())for(let{documentHandler:r}of n)r(t,e);e=void 0}})}function Oe(e,t){let n=[];return k(t.arg)?n=t.arg:j(t.arg)&&n.push(t.arg),function(r,i){let a=t.instance.popperRef,o=r.target,s=i?.target,c=!t||!t.instance,l=!o||!s,u=e.contains(o)||e.contains(s),d=e===o,f=n.length&&n.some(e=>e?.contains(o))||n.length&&n.includes(s),p=a&&(a.contains(o)||a.contains(s));c||l||u||d||f||p||t.value(r,i)}}const ke={beforeMount(e,t){Z.has(e)||Z.set(e,[]),Z.get(e).push({documentHandler:Oe(e,t),bindingFn:t.value})},updated(e,t){Z.has(e)||Z.set(e,[]);let n=Z.get(e),r=n.findIndex(e=>e.bindingFn===t.oldValue),i={documentHandler:Oe(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){Z.delete(e)}},Ae=x({name:`ElCollapseTransition`}),je=x({...Ae,setup(e){let t=J(`collapse-transition`),n=e=>{e.style.maxHeight=``,e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},r={beforeEnter(e){e.dataset||={},e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight===0?e.style.maxHeight=0:e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow=`hidden`})},afterEnter(e){e.style.maxHeight=``,e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){n(e)},beforeLeave(e){e.dataset||={},e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow=`hidden`},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){n(e)},leaveCancelled(e){n(e)}};return(e,n)=>(R(),h(a,re({name:q(t).b()},he(r)),{default:X(()=>[H(e.$slots,`default`)]),_:3},16,[`name`]))}});var Me=s(je,[[`__file`,`collapse-transition.vue`]]);const Ne=Ee(Me),Pe=f({direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},contentPosition:{type:String,values:[`left`,`center`,`right`],default:`center`},borderStyle:{type:S(String),default:`solid`}}),Fe=x({name:`ElDivider`}),Ie=x({...Fe,props:Pe,setup(e){let t=e,n=J(`divider`),r=p(()=>n.cssVar({"border-style":t.borderStyle}));return(e,t)=>(R(),_(`div`,{class:I([q(n).b(),q(n).m(e.direction)]),style:L(q(r)),role:`separator`},[e.$slots.default&&e.direction!==`vertical`?(R(),_(`div`,{key:0,class:I([q(n).e(`text`),q(n).is(e.contentPosition)])},[H(e.$slots,`default`)],2)):g(`v-if`,!0)],6))}});var Le=s(Ie,[[`__file`,`divider.vue`]]);const Re=Ee(Le);var ze=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll(`li`),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){let t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener(`keydown`,n=>{let r=!1;switch(n.code){case e.down:this.gotoSubIndex(this.subIndex+1),r=!0;break;case e.up:this.gotoSubIndex(this.subIndex-1),r=!0;break;case e.tab:K(t,`mouseleave`);break;case e.enter:case e.numpadEnter:case e.space:r=!0,n.currentTarget.click();break}return r&&(n.preventDefault(),n.stopPropagation()),!1})})}},Be=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute(`tabindex`,`0`);let t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new ze(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener(`keydown`,t=>{let n=!1;switch(t.code){case e.down:K(t.currentTarget,`mouseenter`),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break;case e.up:K(t.currentTarget,`mouseenter`),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break;case e.tab:K(t.currentTarget,`mouseleave`);break;case e.enter:case e.numpadEnter:case e.space:n=!0,t.currentTarget.click();break}n&&t.preventDefault()})}},Ve=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){let t=this.domNode.childNodes;Array.from(t).forEach(t=>{t.nodeType===1&&new Be(t,e)})}};const He=x({name:`ElMenuCollapseTransition`}),Ue=x({...He,setup(e){let t=J(`menu`),n={onBeforeEnter:e=>e.style.opacity=`0.2`,onEnter(e,n){c(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=`1`,n()},onAfterEnter(e){fe(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=``},onBeforeLeave(e){e.dataset||={},E(e,t.m(`collapse`))?(fe(e,t.m(`collapse`)),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),c(e,t.m(`collapse`))):(c(e,t.m(`collapse`)),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),fe(e,t.m(`collapse`))),e.style.width=`${e.scrollWidth}px`,e.style.overflow=`hidden`},onLeave(e){c(e,`horizontal-collapse-transition`),e.style.width=`${e.dataset.scrollWidth}px`}};return(e,t)=>(R(),h(a,re({mode:`out-in`},q(n)),{default:X(()=>[H(e.$slots,`default`)]),_:3},16))}});var We=s(Ue,[[`__file`,`menu-collapse-transition.vue`]]);function Ge(e,t){let n=p(()=>{let n=e.parent,r=[t.value];for(;n.type.name!==`ElMenu`;)n.props.index&&r.unshift(n.props.index),n=n.parent;return r}),r=p(()=>{let t=e.parent;for(;t&&![`ElMenu`,`ElSubMenu`].includes(t.type.name);)t=t.parent;return t});return{parentMenu:r,indexPath:n}}function Ke(e){let t=p(()=>{let t=e.backgroundColor;return t?new i(t).shade(20).toString():``});return t}const qe=(e,t)=>{let n=J(`menu`);return p(()=>n.cssVarBlock({"text-color":e.textColor||``,"hover-text-color":e.textColor||``,"bg-color":e.backgroundColor||``,"hover-bg-color":Ke(e).value||``,"active-color":e.activeTextColor||``,level:`${t}`}))},Je=`rootMenu`,Q=`subMenu:`,Ye=f({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:D},expandOpenIcon:{type:D},collapseCloseIcon:{type:D},collapseOpenIcon:{type:D}}),Xe=`ElSubMenu`;var Ze=x({name:Xe,props:Ye,setup(e,{slots:i,expose:a}){let o=ee(),{indexPath:s,parentMenu:c}=Ge(o,p(()=>e.index)),u=J(`menu`),f=J(`sub-menu`),m=O(Je);m||W(Xe,`can not inject root menu`);let h=O(`${Q}${c.value.uid}`);h||W(Xe,`can not inject sub menu`);let g=B({}),_=B({}),v,y=B(!1),b=B(),x=B(),S=p(()=>M.value===`horizontal`&&w.value?`bottom-start`:`right-start`),C=p(()=>M.value===`horizontal`&&w.value||M.value===`vertical`&&!m.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?A.value?e.expandOpenIcon:e.expandCloseIcon:l:e.collapseCloseIcon&&e.collapseOpenIcon?A.value?e.collapseOpenIcon:e.collapseCloseIcon:d),w=p(()=>h.level===0),E=p(()=>{let t=e.teleported;return te(t)?w.value:t}),D=p(()=>m.props.collapse?`${u.namespace.value}-zoom-in-left`:`${u.namespace.value}-zoom-in-top`),k=p(()=>M.value===`horizontal`&&w.value?[`bottom-start`,`bottom-end`,`top-start`,`top-end`,`right-start`,`left-start`]:[`right-start`,`right`,`right-end`,`left-start`,`bottom-start`,`bottom-end`,`top-start`,`top-end`]),A=p(()=>m.openedMenus.includes(e.index)),j=p(()=>[...Object.values(g.value),...Object.values(_.value)].some(({active:e})=>e)),M=p(()=>m.props.mode),N=p(()=>m.props.persistent),P=de({index:e.index,indexPath:s,active:j}),ne=qe(m.props,h.level+1),re=p(()=>{var t;return(t=e.popperOffset)??m.props.popperOffset}),ie=p(()=>{var t;return(t=e.popperClass)??m.props.popperClass}),ae=p(()=>{var t;return(t=e.showTimeout)??m.props.showTimeout}),oe=p(()=>{var t;return(t=e.hideTimeout)??m.props.hideTimeout}),se=()=>{var e,t,n;return(n=(t=(e=x.value)?.popperRef)?.popperInstanceRef)?.destroy()},I=e=>{e||se()},L=()=>{m.props.menuTrigger===`hover`&&m.props.mode===`horizontal`||m.props.collapse&&m.props.mode===`vertical`||e.disabled||m.handleSubMenuClick({index:e.index,indexPath:s.value,active:j.value})},R=(t,n=ae.value)=>{var r;if(t.type!==`focus`){if(m.props.menuTrigger===`click`&&m.props.mode===`horizontal`||!m.props.collapse&&m.props.mode===`vertical`||e.disabled){h.mouseInChild.value=!0;return}h.mouseInChild.value=!0,v?.(),{stop:v}=xe(()=>{m.openMenu(e.index,s.value)},n),E.value&&((r=c.value.vnode.el)==null||r.dispatchEvent(new MouseEvent(`mouseenter`)))}},z=(t=!1)=>{var n;if(m.props.menuTrigger===`click`&&m.props.mode===`horizontal`||!m.props.collapse&&m.props.mode===`vertical`){h.mouseInChild.value=!1;return}v?.(),h.mouseInChild.value=!1,{stop:v}=xe(()=>!y.value&&m.closeMenu(e.index,s.value),oe.value),E.value&&t&&((n=h.handleMouseleave)==null||n.call(h,!0))};Y(()=>m.props.collapse,e=>I(!!e));{let e=e=>{_.value[e.index]=e},t=e=>{delete _.value[e.index]};ue(`${Q}${o.uid}`,{addSubMenu:e,removeSubMenu:t,handleMouseleave:z,mouseInChild:y,level:h.level+1})}return a({opened:A}),le(()=>{m.addSubMenu(P),h.addSubMenu(P)}),ce(()=>{h.removeSubMenu(P),m.removeSubMenu(P)}),()=>{var a;let s=[(a=i.title)?.call(i),T(t,{class:f.e(`icon-arrow`),style:{transform:A.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&m.props.collapse?`none`:`rotateZ(180deg)`:`none`}},{default:()=>F(C.value)?T(o.appContext.components[C.value]):T(C.value)})],c=m.isMenuPopup?T(n,{ref:x,visible:A.value,effect:`light`,pure:!0,offset:re.value,showArrow:!1,persistent:N.value,popperClass:ie.value,placement:S.value,teleported:E.value,fallbackPlacements:k.value,transition:D.value,gpuAcceleration:!1},{content:()=>{var e;return T(`div`,{class:[u.m(M.value),u.m(`popup-container`),ie.value],onMouseenter:e=>R(e,100),onMouseleave:()=>z(!0),onFocus:e=>R(e,100)},[T(`ul`,{class:[u.b(),u.m(`popup`),u.m(`popup-${S.value}`)],style:ne.value},[(e=i.default)?.call(i)])])},default:()=>T(`div`,{class:f.e(`title`),onClick:L},s)}):T(r,{},[T(`div`,{class:f.e(`title`),ref:b,onClick:L},s),T(Ne,{},{default:()=>{var e;return Te(T(`ul`,{role:`menu`,class:[u.b(),u.m(`inline`)],style:ne.value},[(e=i.default)?.call(i)]),[[Ce,A.value]])}})]);return T(`li`,{class:[f.b(),f.is(`active`,j.value),f.is(`opened`,A.value),f.is(`disabled`,e.disabled)],role:`menuitem`,ariaHaspopup:!0,ariaExpanded:A.value,onMouseenter:R,onMouseleave:()=>z(),onFocus:R},[c])}}});const Qe=f({mode:{type:String,values:[`horizontal`,`vertical`],default:`vertical`},defaultActive:{type:String,default:``},defaultOpeneds:{type:S(Array),default:()=>oe([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:[`hover`,`click`],default:`hover`},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:D,default:()=>ae},popperEffect:{type:S(String),default:`dark`},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),$e=e=>k(e)&&e.every(e=>F(e)),et={close:(e,t)=>F(e)&&$e(t),open:(e,t)=>F(e)&&$e(t),select:(e,t,n,r)=>F(e)&&$e(t)&&N(n)&&(te(r)||r instanceof Promise)};var tt=x({name:`ElMenu`,props:Qe,emits:et,setup(e,{emit:n,slots:r,expose:i}){let a=ee(),o=a.appContext.config.globalProperties.$router,s=B(),c=J(`menu`),l=J(`sub-menu`),u=B(-1),d=B(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=B(e.defaultActive),m=B({}),h=B({}),g=p(()=>e.mode===`horizontal`||e.mode===`vertical`&&e.collapse),_=()=>{let t=f.value&&m.value[f.value];if(!t||e.mode===`horizontal`||e.collapse)return;let n=t.indexPath;n.forEach(e=>{let t=h.value[e];t&&v(e,t.indexPath)})},v=(t,r)=>{d.value.includes(t)||(e.uniqueOpened&&(d.value=d.value.filter(e=>r.includes(e))),d.value.push(t),n(`open`,t,r))},y=e=>{let t=d.value.indexOf(e);t!==-1&&d.value.splice(t,1)},b=(e,t)=>{y(e),n(`close`,e,t)},x=({index:e,indexPath:t})=>{let n=d.value.includes(e);n?b(e,t):v(e,t)},S=t=>{(e.mode===`horizontal`||e.collapse)&&(d.value=[]);let{index:r,indexPath:i}=t;if(!(M(r)||M(i)))if(e.router&&o){let e=t.route||r,a=o.push(e).then(e=>(e||(f.value=r),e));n(`select`,r,i,{index:r,indexPath:i,route:e},a)}else f.value=r,n(`select`,r,i,{index:r,indexPath:i})},C=t=>{var n;let r=m.value,i=r[t]||f.value&&r[f.value]||r[e.defaultActive];f.value=(n=i?.index)??t},E=e=>{let t=getComputedStyle(e),n=Number.parseInt(t.marginLeft,10),r=Number.parseInt(t.marginRight,10);return e.offsetWidth+n+r||0},D=()=>{var e,t;if(!s.value)return-1;let n=Array.from((t=(e=s.value)?.childNodes)??[]).filter(e=>e.nodeName!==`#text`||e.nodeValue),r=64,i=getComputedStyle(s.value),a=Number.parseInt(i.paddingLeft,10),o=Number.parseInt(i.paddingRight,10),c=s.value.clientWidth-a-o,l=0,u=0;return n.forEach((e,t)=>{e.nodeName!==`#comment`&&(l+=E(e),l<=c-r&&(u=t+1))}),u===n.length?-1:u},O=e=>h.value[e].indexPath,k=(e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},A=!0,j=()=>{if(u.value===D())return;let e=()=>{u.value=-1,se(()=>{u.value=D()})};A?e():k(e)(),A=!1};Y(()=>e.defaultActive,e=>{m.value[e]||(f.value=``),C(e)}),Y(()=>e.collapse,e=>{e&&(d.value=[])}),Y(m.value,_);let N;we(()=>{e.mode===`horizontal`&&e.ellipsis?N=ve(s,j).stop:N?.()});let P=B(!1);{let t=e=>{h.value[e.index]=e},n=e=>{delete h.value[e.index]},r=e=>{m.value[e.index]=e},i=e=>{delete m.value[e.index]};ue(Je,de({props:e,openedMenus:d,items:m,subMenus:h,activeIndex:f,isMenuPopup:g,addMenuItem:r,removeMenuItem:i,addSubMenu:t,removeSubMenu:n,openMenu:v,closeMenu:b,handleMenuItemClick:S,handleSubMenuClick:x})),ue(`${Q}${a.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:P,level:0})}le(()=>{e.mode===`horizontal`&&new Ve(a.vnode.el,c.namespace.value)});{let e=e=>{let{indexPath:t}=h.value[e];t.forEach(e=>v(e,t))};i({open:e,close:y,updateActiveIndex:C,handleResize:j})}let F=qe(e,0);return()=>{var i,a;let o=(a=(i=r.default)?.call(r))??[],f=[];if(e.mode===`horizontal`&&s.value){let n=w(o),r=u.value===-1?n:n.slice(0,u.value),i=u.value===-1?[]:n.slice(u.value);i?.length&&e.ellipsis&&(o=r,f.push(T(Ze,{index:`sub-menu-more`,class:l.e(`hide-arrow`),popperOffset:e.popperOffset},{title:()=>T(t,{class:l.e(`icon-more`)},{default:()=>T(e.ellipsisIcon)}),default:()=>i})))}let p=e.closeOnClickOutside?[[ke,()=>{d.value.length&&(P.value||(d.value.forEach(e=>n(`close`,e,O(e))),d.value=[]))}]]:[],m=Te(T(`ul`,{key:String(e.collapse),role:`menubar`,ref:s,style:F.value,class:{[c.b()]:!0,[c.m(e.mode)]:!0,[c.m(`collapse`)]:e.collapse}},[...o,...f]),p);return e.collapseTransition&&e.mode===`vertical`?T(We,()=>m):m}}});const nt=f({index:{type:S([String,null]),default:null},route:{type:S([String,Object])},disabled:Boolean}),rt={click:e=>F(e.index)&&k(e.indexPath)},$=`ElMenuItem`,it=x({name:$}),at=x({...it,props:nt,emits:rt,setup(e,{expose:t,emit:i}){let a=e;P(a.index)&&b($,`Missing required prop: "index"`);let o=ee(),s=O(Je),c=J(`menu`),l=J(`menu-item`);s||W($,`can not inject root menu`);let{parentMenu:u,indexPath:d}=Ge(o,ge(a,`index`)),f=O(`${Q}${u.value.uid}`);f||W($,`can not inject sub menu`);let g=p(()=>a.index===s.activeIndex),v=de({index:a.index,indexPath:d,active:g}),y=()=>{a.disabled||(s.handleMenuItemClick({index:a.index,indexPath:d.value,route:a.route}),i(`click`,v))};return le(()=>{f.addSubMenu(v),s.addMenuItem(v)}),ce(()=>{f.removeSubMenu(v),s.removeMenuItem(v)}),t({parentMenu:u,rootMenu:s,active:g,nsMenu:c,nsMenuItem:l,handleClick:y}),(e,t)=>(R(),_(`li`,{class:I([q(l).b(),q(l).is(`active`,q(g)),q(l).is(`disabled`,e.disabled)]),role:`menuitem`,tabindex:`-1`,onClick:y},[q(u).type.name===`ElMenu`&&q(s).props.collapse&&e.$slots.title?(R(),h(q(n),{key:0,effect:q(s).props.popperEffect,placement:`right`,"fallback-placements":[`left`],persistent:q(s).props.persistent},{content:X(()=>[H(e.$slots,`title`)]),default:X(()=>[m(`div`,{class:I(q(c).be(`tooltip`,`trigger`))},[H(e.$slots,`default`)],2)]),_:3},8,[`effect`,`persistent`])):(R(),_(r,{key:1},[H(e.$slots,`default`),H(e.$slots,`title`)],64))],2))}});var ot=s(at,[[`__file`,`menu-item.vue`]]);const st={title:String},ct=x({name:`ElMenuItemGroup`}),lt=x({...ct,props:st,setup(e){let t=J(`menu-item-group`);return(e,n)=>(R(),_(`li`,{class:I(q(t).b())},[m(`div`,{class:I(q(t).e(`title`))},[e.$slots.title?H(e.$slots,`title`,{key:1}):(R(),_(r,{key:0},[v(G(e.title),1)],64))],2),m(`ul`,null,[H(e.$slots,`default`)])],2))}});var ut=s(lt,[[`__file`,`menu-item-group.vue`]]);const dt=Ee(tt,{MenuItem:ot,MenuItemGroup:ut,SubMenu:Ze}),ft=De(ot),pt=De(ut),mt=De(Ze);function ht(){let e=be(),t=e=>{let{route:t}=e;return{path:t.path.startsWith(`/`)?t.path:`/${t.path}`,name:t.name,title:t.meta?.title||``,icon:t.meta?.icon,index:e.index.toString()}},n=p(()=>{let n=e.getRoutes(),r=[],i=n.find(e=>e.name===`layout`);return i&&i.children&&i.children.forEach((e,n)=>{if(e.meta&&e.meta.title&&e.meta.icon){let i=t({route:e,index:n});r.push(i)}}),r}),r=(e,n,i)=>{console.log(`🚀 ~ getLayoutRoute ~ router:`,e);let a;e?.meta?.title&&(a=t({route:e,index:typeof n==`string`?parseInt(n):n})),a&&e.children?.length&&(a.children=[],e.children.forEach((e,t)=>{a?.children&&r(e,`${n}-${t}`,a.children)})),a&&i.push(a)},i=p(()=>{let t=[...e.getRoutes()],n=[],i=t.filter(e=>e.name===`layout`);for(let e=0;e<i.length;e++)r(i[e],e,n);return n}),a=e=>{let t=n.value.find(t=>t.path===e);return t||=n.value.find(t=>{let n=t.path.endsWith(`/`)?t.path:t.path+`/`,r=e.endsWith(`/`)?e:e+`/`;return r.startsWith(n)||e.startsWith(t.path)}),t?t.index:`0`},o=e=>{let t=n.value.find(t=>t.index===e);return t?t.path:``},s=e=>n.value.find(t=>t.index===e);return{menuRoutes:n,layoutRoute:i,getActiveIndexByPath:a,getRoutePathByIndex:o,getRouteByIndex:s}}var gt=x({__name:`RecursiveMenuItem`,props:{item:{},parentIndex:{},childIndex:{}},emits:[`menu-select`],setup(e,{emit:n}){let i=n,a=e=>{i(`menu-select`,e)},o=e=>{let t=[];if(e.name){let n=e.name.split(`-`)[1];n&&t.push(`menu-item-${n}`)}else if(e.path){let n=e.path.split(`/`),r=n[n.length-1];r&&t.push(`menu-item-${r}`)}return t.join(` `)};return(e,n)=>{let i=t,s=pe(`RecursiveMenuItem`,!0),c=mt,l=ft;return e.item.children&&e.item.children.length>0?(R(),h(c,{index:e.item.path,key:e.item.path},{title:X(()=>[e.item.icon?(R(),h(i,{key:0},{default:X(()=>[(R(),h(U(e.item.icon)))]),_:1})):g(``,!0),m(`span`,null,G(e.item.title),1)]),default:X(()=>[(R(!0),_(r,null,V(e.item.children,(t,n)=>(R(),h(s,{key:t.path||n,item:t,"parent-index":e.item.path,"child-index":n,onMenuSelect:a},null,8,[`item`,`parent-index`,`child-index`]))),128))]),_:1},8,[`index`])):(R(),h(l,{index:e.item.path,key:e.item.path,class:I(o(e.item)),onClick:n[0]||=t=>a(e.item)},{default:X(()=>[e.item.icon?(R(),h(i,{key:0},{default:X(()=>[(R(),h(U(e.item.icon)))]),_:1})):g(``,!0),m(`span`,null,G(e.item.title),1)]),_:1},8,[`index`,`class`]))}}}),_t=o(gt,[[`__scopeId`,`data-v-7f352830`]]);const vt={key:0,class:`minimized-modal-menu`},yt={key:0,class:`minimized-group-title`},bt=[`onClick`],xt=[`title`];var St=x({__name:`MinimizedModalMenu`,props:{collapsed:{type:Boolean}},setup(e){let{minimizedMenuItems:n,getModalIcon:i,getModalColor:a}=_e(),o=e=>{let t={Document:C,Operation:z,User:Se,List:ne,Tickets:me};return t[e]||C};return(e,s)=>{let c=Re,l=t;return q(n).length>0?(R(),_(`div`,vt,[y(c,{class:`menu-divider`}),e.collapsed?g(``,!0):(R(),_(`div`,yt,[y(l,null,{default:X(()=>[y(q(ie))]),_:1}),s[0]||=m(`span`,null,`最小化窗口`,-1)])),(R(!0),_(r,null,V(q(n),t=>(R(),_(`div`,{key:`minimized-${t.id}`,class:I([`minimized-modal-item`,{collapsed:e.collapsed}]),onClick:t.onClick},[y(l,{style:L({color:q(a)(t.type)})},{default:X(()=>[(R(),h(U(o(q(i)(t.type)))))]),_:2},1032,[`style`]),e.collapsed?g(``,!0):(R(),_(`span`,{key:0,class:`minimized-modal-title`,title:t.title},G(t.title),9,xt))],10,bt))),128))])):g(``,!0)}}}),Ct=o(St,[[`__scopeId`,`data-v-5d0c44f9`]]);const wt={class:`control-sidebar-wrapper`},Tt={class:`menu-container`};var Et=x({__name:`ControlSidebar`,emits:[`collapse`],setup(e,{emit:n}){let i=ye(),a=n,o=be(),s=B(!1),c=B(`0`),l=B([]),{menuRoutes:f,layoutRoute:p,getRoutePathByIndex:g}=ht(),v=()=>{s.value=!s.value,a(`collapse`,s.value)},b=e=>{if(console.log(`🚀 ~ handleMenuSelect ~ index:`,e),c.value=e,!e.startsWith(`layout-`)&&e.startsWith(`menu-`)){let t=e.replace(`menu-`,``),n=g(t);n&&o.push(n)}},x=e=>{console.log(`🚀 ~ handleRecursiveMenuSelect ~ item:`,e),e.path&&(o.push(e.path),c.value=e.path)},S=e=>{l.value.includes(e)||l.value.push(e)},C=e=>{let t=l.value.indexOf(e);t!==-1&&l.value.splice(t,1)};return Y(()=>i.path,e=>{if(console.log(`🚀 ~ 当前路径:`,e),e.startsWith(`/mas/`)){let e=`/`;l.value.includes(e)||l.value.push(e)}let t=f.value.find(t=>t.path===e);if(t){c.value=`menu-${t.index}`,console.log(`🚀 ~ 匹配到动态菜单:`,t,`激活索引:`,c.value);return}let n=t=>{for(let r of t){if(r.path===e)return r.path;if(r.children){let e=n(r.children);if(e)return e}}return null},r=n(p.value);if(r){c.value=r,console.log(`🚀 ~ 匹配到递归菜单:`,r);return}c.value=e,console.log(`🚀 ~ 使用路径作为默认索引:`,e)},{immediate:!0}),(e,n)=>{let i=t,a=ft,o=dt;return R(),_(`div`,wt,[m(`div`,{class:`collapse-btn`,onClick:v},[y(i,{class:I([`collapse-icon`,{"is-collapsed":s.value}])},{default:X(()=>[s.value?(R(),h(q(d),{key:1})):(R(),h(q(u),{key:0}))]),_:1},8,[`class`])]),m(`div`,Tt,[y(o,{"default-active":c.value,"default-opened-keys":l.value,collapse:s.value,class:`mas-menu`,"background-color":`#001529`,"text-color":`#fff`,"active-text-color":`#1890ff`,onSelect:b,onOpen:S,onClose:C},{default:X(()=>[(R(!0),_(r,null,V(q(p),(e,t)=>(R(),h(_t,{key:`layout-${e.path||t}`,item:e,onMenuSelect:x},null,8,[`item`]))),128)),(R(!0),_(r,null,V(q(f),e=>(R(),h(a,{key:`menu-${e.index}`,index:`menu-${e.index}`,class:I(`menu-item-${e.name.split(`-`)[1]}`)},{default:X(()=>[y(i,null,{default:X(()=>[(R(),h(U(e.icon)))]),_:2},1024),m(`span`,null,G(e.title),1)]),_:2},1032,[`index`,`class`]))),128)),y(Ct,{collapsed:s.value},null,8,[`collapsed`])]),_:1},8,[`default-active`,`default-opened-keys`,`collapse`])])])}}}),Dt=o(Et,[[`__scopeId`,`data-v-516accc2`]]);const Ot={class:`secondary-workspace-wrapper`};var kt=x({__name:`SecondaryWorkspace`,emits:[`minimize`],setup(e){return(e,t)=>(R(),_(`div`,Ot,` 等待开发 `))}}),At=o(kt,[[`__scopeId`,`data-v-4e305f94`]]);const jt={class:`mas-layout`},Mt={class:`main-workspace`};var Nt=x({__name:`index`,setup(e){let t=B(!1),n=B(!0),r=e=>{t.value=e};return(e,i)=>{let a=pe(`router-view`);return R(),_(`div`,jt,[m(`div`,{class:I([`control-sidebar`,{"is-collapsed":t.value}])},[y(Dt,{onCollapse:r})],2),m(`div`,Mt,[y(a)]),m(`div`,{class:I([`secondary-workspace`,{"is-hidden":n.value}])},[y(At)],2)])}}}),Pt=o(Nt,[[`__scopeId`,`data-v-37d31c07`]]);export{Pt as default};